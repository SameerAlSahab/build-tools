#MAGISK
setdefault   import_addons        on
setdefault   extraction_speed     default

#AstroROM script starts here:
 

    ASTRO ROM  __ROM_VERSION__  FOR __MODEL_NAME__ 
           
	Build: __BUILD_DATE__                      

	
	
ui_print "Checking device compatibility..."

device_codename=$(getprop ro.product.vendor.device)
if [ "$device_codename" != "__CODENAME__" ]; then
    abort "Error: This ROM is for __MODEL_NAME__ (__CODENAME__ only). Detected: $device_codename"
fi

   ui_print " Installing ROM... "
   
   update_zip super.img $(find_block super)

   ui_print " Done... "
   
   try_mount -rw /optics
   try_mount -rw /prism
   try_mount -rw /omr
   ui_print "Adding CSC features... "
   cscfeature="$addons/omc/cscfeature.xml"
   omc_decoder="$addons/omcdecoder"
   . "$addons/omc_edit.sh"
   
   ui_print "AstroROM successfully installed."


   ui_print " If you want to reboot to recovery, press vol + "
   ui_print " If you want to close the installer, press vol - "
   if $yes; then
      run_program "$addons/reboot" recovery
   else
      end "Installer closed... "
   fi